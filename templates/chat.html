{% extends 'base.html' %}

{% block title %}Ğ§Ğ°Ñ‚{% endblock %}

{% block content %}

<div class="chat-container">
    <div class="chat-header">
        <a href="{% url 'profile' dialog.companion.id %}" class="chat-header-text">
            <span class="online-dot" data-user-id="{{ dialog.companion.id }}"></span>
            <img src="{{ dialog.companion.avatar.url }}" class="round" style="width:40px;height:40px;">
            {{ dialog.companion.username }}
        </a>
    </div>

    <div id="pinned-wrapper">
        <div id="pinned-messages">
            {% for msg in pinned_messages %}
                {% include "partials/messages_page.html" %}
            {% endfor %}
        </div>
    </div>

    <div class="chat-messages" id="chat-messages">
        <div id="normal-messages">
            {% for msg in messages %}
                {% include "partials/messages_page.html" %}
            {% endfor %}
        </div>
    </div>



    <div class="typing-indicator" id="typing-indicator"></div>

    <div class="chat-input">
{#        <input type="text" id="message-input" placeholder="Ğ’Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ">#}
        <textarea id="message-input" rows="2" placeholder="Ğ’Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ"></textarea>
        <button id="send-btn">ĞÑ‚Ğ¿Ñ€Ğ°Ğ²Ğ¸Ñ‚ÑŒ</button>
        <button id="emoji-btn" type="button">ğŸ˜€</button>
    </div>

    <!-- ĞŸĞ°Ğ½ĞµĞ»ÑŒ Ñ ÑĞ¼Ğ¾Ğ´Ğ·Ğ¸ -->
    <div id="emoji-panel">
        <div class="emoji-category">
            <span class="category-title">Ğ¡Ğ¼Ğ°Ğ¹Ğ»Ñ‹</span>
            <span class="emoji">ğŸ˜€</span>
            <span class="emoji">ğŸ˜ƒ</span>
            <span class="emoji">ğŸ˜„</span>
            <span class="emoji">ğŸ˜</span>
            <span class="emoji">ğŸ˜†</span>
            <span class="emoji">ğŸ˜…</span>
            <span class="emoji">ğŸ˜‚</span>
            <span class="emoji">ğŸ¤£</span>
            <span class="emoji">ğŸ˜Š</span>
            <span class="emoji">ğŸ˜‡</span>
            <span class="emoji">ğŸ™‚</span>
            <span class="emoji">ğŸ™ƒ</span>
            <span class="emoji">ğŸ˜‰</span>
            <span class="emoji">ğŸ˜Œ</span>
            <span class="emoji">ğŸ˜</span>
            <span class="emoji">ğŸ¥°</span>
            <span class="emoji">ğŸ˜˜</span>
            <span class="emoji">ğŸ˜—</span>
            <span class="emoji">ğŸ˜™</span>
            <span class="emoji">ğŸ˜š</span>
        </div>

        <div class="emoji-category">
            <span class="category-title">Ğ­Ğ¼Ğ¾Ñ†Ğ¸Ğ¸</span>
            <span class="emoji">ğŸ˜‹</span>
            <span class="emoji">ğŸ˜›</span>
            <span class="emoji">ğŸ˜</span>
            <span class="emoji">ğŸ˜œ</span>
            <span class="emoji">ğŸ¤ª</span>
            <span class="emoji">ğŸ¤¨</span>
            <span class="emoji">ğŸ§</span>
            <span class="emoji">ğŸ¤“</span>
            <span class="emoji">ğŸ˜</span>
            <span class="emoji">ğŸ¤©</span>
            <span class="emoji">ğŸ¥³</span>
            <span class="emoji">ğŸ˜</span>
            <span class="emoji">ğŸ˜’</span>
            <span class="emoji">ğŸ˜</span>
            <span class="emoji">ğŸ˜”</span>
            <span class="emoji">ğŸ˜Ÿ</span>
            <span class="emoji">ğŸ˜•</span>
            <span class="emoji">ğŸ™</span>
            <span class="emoji">ğŸ˜£</span>
            <span class="emoji">ğŸ˜–</span>
            <span class="emoji">ğŸ˜«</span>
            <span class="emoji">ğŸ˜©</span>
            <span class="emoji">ğŸ¥º</span>
            <span class="emoji">ğŸ˜¢</span>
            <span class="emoji">ğŸ˜­</span>
            <span class="emoji">ğŸ˜¤</span>
            <span class="emoji">ğŸ˜ </span>
            <span class="emoji">ğŸ˜¡</span>
            <span class="emoji">ğŸ¤¬</span>
            <span class="emoji">ğŸ¤¯</span>
        </div>

        <div class="emoji-category">
            <span class="category-title">Ğ–ĞµÑÑ‚Ñ‹</span>
            <span class="emoji">ğŸ‘‹</span>
            <span class="emoji">ğŸ¤š</span>
            <span class="emoji">ğŸ–</span>
            <span class="emoji">âœ‹</span>
            <span class="emoji">ğŸ––</span>
            <span class="emoji">ğŸ‘Œ</span>
            <span class="emoji">ğŸ¤Œ</span>
            <span class="emoji">ğŸ¤</span>
            <span class="emoji">âœŒï¸</span>
            <span class="emoji">ğŸ¤</span>
            <span class="emoji">ğŸ¤Ÿ</span>
            <span class="emoji">ğŸ¤˜</span>
            <span class="emoji">ğŸ¤™</span>
            <span class="emoji">ğŸ‘ˆ</span>
            <span class="emoji">ğŸ‘‰</span>
            <span class="emoji">ğŸ‘†</span>
            <span class="emoji">ğŸ‘‡</span>
            <span class="emoji">â˜ï¸</span>
            <span class="emoji">ğŸ‘</span>
            <span class="emoji">ğŸ‘</span>
            <span class="emoji">âœŠ</span>
            <span class="emoji">ğŸ‘Š</span>
            <span class="emoji">ğŸ¤›</span>
            <span class="emoji">ğŸ¤œ</span>
            <span class="emoji">ğŸ‘</span>
            <span class="emoji">ğŸ™Œ</span>
            <span class="emoji">ğŸ‘</span>
            <span class="emoji">ğŸ¤²</span>
            <span class="emoji">ğŸ¤</span>
            <span class="emoji">ğŸ™</span>
        </div>

        <div class="emoji-category">
            <span class="category-title">Ğ¡ĞµÑ€Ğ´Ñ†Ğ°</span>
            <span class="emoji">â¤ï¸</span>
            <span class="emoji">ğŸ§¡</span>
            <span class="emoji">ğŸ’›</span>
            <span class="emoji">ğŸ’š</span>
            <span class="emoji">ğŸ’™</span>
            <span class="emoji">ğŸ’œ</span>
            <span class="emoji">ğŸ–¤</span>
            <span class="emoji">ğŸ¤</span>
            <span class="emoji">ğŸ¤</span>
            <span class="emoji">ğŸ’”</span>
            <span class="emoji">â£ï¸</span>
            <span class="emoji">ğŸ’•</span>
            <span class="emoji">ğŸ’</span>
            <span class="emoji">ğŸ’“</span>
            <span class="emoji">ğŸ’—</span>
            <span class="emoji">ğŸ’–</span>
            <span class="emoji">ğŸ’˜</span>
            <span class="emoji">ğŸ’</span>
        </div>

        <div class="emoji-category">
            <span class="category-title">ĞŸÑ€Ğ°Ğ·Ğ´Ğ½Ğ¸ĞºĞ¸</span>
            <span class="emoji">ğŸ‰</span>
            <span class="emoji">ğŸŠ</span>
            <span class="emoji">ğŸˆ</span>
            <span class="emoji">ğŸ</span>
            <span class="emoji">ğŸ‚</span>
            <span class="emoji">ğŸ„</span>
            <span class="emoji">ğŸƒ</span>
            <span class="emoji">ğŸ†</span>
            <span class="emoji">ğŸ‡</span>
            <span class="emoji">âœ¨</span>
            <span class="emoji">ğŸ€</span>
            <span class="emoji">ğŸ—ï¸</span>
        </div>

        <div class="emoji-category">
            <span class="category-title">Ğ–Ğ¸Ğ²Ğ¾Ñ‚Ğ½Ñ‹Ğµ</span>
            <span class="emoji">ğŸ¶</span>
            <span class="emoji">ğŸ±</span>
            <span class="emoji">ğŸ­</span>
            <span class="emoji">ğŸ¹</span>
            <span class="emoji">ğŸ°</span>
            <span class="emoji">ğŸ¦Š</span>
            <span class="emoji">ğŸ»</span>
            <span class="emoji">ğŸ¼</span>
            <span class="emoji">ğŸ¨</span>
            <span class="emoji">ğŸ¯</span>
            <span class="emoji">ğŸ¦</span>
            <span class="emoji">ğŸ®</span>
            <span class="emoji">ğŸ·</span>
            <span class="emoji">ğŸ¸</span>
            <span class="emoji">ğŸµ</span>
            <span class="emoji">ğŸ™ˆ</span>
            <span class="emoji">ğŸ™‰</span>
            <span class="emoji">ğŸ™Š</span>
        </div>

        <div class="emoji-category">
            <span class="category-title">Ğ•Ğ´Ğ°</span>
            <span class="emoji">ğŸ•</span>
            <span class="emoji">ğŸ”</span>
            <span class="emoji">ğŸŸ</span>
            <span class="emoji">ğŸŒ­</span>
            <span class="emoji">ğŸ¿</span>
            <span class="emoji">ğŸ§‚</span>
            <span class="emoji">ğŸ¥“</span>
            <span class="emoji">ğŸ¥š</span>
            <span class="emoji">ğŸ³</span>
            <span class="emoji">ğŸ§‡</span>
            <span class="emoji">ğŸ¥</span>
            <span class="emoji">ğŸ§ˆ</span>
            <span class="emoji">ğŸ</span>
            <span class="emoji">ğŸ¥</span>
            <span class="emoji">ğŸ¥¨</span>
            <span class="emoji">ğŸ¥¯</span>
            <span class="emoji">ğŸ°</span>
            <span class="emoji">ğŸ‚</span>
            <span class="emoji">ğŸ§</span>
            <span class="emoji">ğŸ¥§</span>
            <span class="emoji">ğŸ«</span>
            <span class="emoji">ğŸ¬</span>
            <span class="emoji">ğŸ­</span>
            <span class="emoji">ğŸ®</span>
            <span class="emoji">ğŸ©</span>
            <span class="emoji">ğŸª</span>
        </div>

        <div class="emoji-category">
            <span class="category-title">ĞĞ°Ğ¿Ğ¸Ñ‚ĞºĞ¸</span>
            <span class="emoji">â˜•</span>
            <span class="emoji">ğŸµ</span>
            <span class="emoji">ğŸ§ƒ</span>
            <span class="emoji">ğŸ¥¤</span>
            <span class="emoji">ğŸ§‹</span>
            <span class="emoji">ğŸº</span>
            <span class="emoji">ğŸ»</span>
            <span class="emoji">ğŸ¥‚</span>
            <span class="emoji">ğŸ·</span>
            <span class="emoji">ğŸ¥ƒ</span>
            <span class="emoji">ğŸ¸</span>
            <span class="emoji">ğŸ¹</span>
        </div>

        <div class="emoji-category">
            <span class="category-title">Ğ¡Ğ¿Ğ¾Ñ€Ñ‚</span>
            <span class="emoji">âš½</span>
            <span class="emoji">ğŸ€</span>
            <span class="emoji">ğŸˆ</span>
            <span class="emoji">âš¾</span>
            <span class="emoji">ğŸ¥</span>
            <span class="emoji">ğŸ¾</span>
            <span class="emoji">ğŸ</span>
            <span class="emoji">ğŸ‰</span>
            <span class="emoji">ğŸ¥</span>
            <span class="emoji">ğŸ±</span>
            <span class="emoji">ğŸ“</span>
            <span class="emoji">ğŸ¸</span>
            <span class="emoji">ğŸ’</span>
            <span class="emoji">ğŸ‘</span>
            <span class="emoji">ğŸ¥</span>
            <span class="emoji">ğŸ</span>
        </div>

        <div class="emoji-category">
            <span class="category-title">Ğ Ğ°Ğ·Ğ½Ğ¾Ğµ</span>
            <span class="emoji">â­</span>
            <span class="emoji">ğŸŒŸ</span>
            <span class="emoji">ğŸ’«</span>
            <span class="emoji">âœ¨</span>
            <span class="emoji">ğŸ”¥</span>
            <span class="emoji">ğŸ’¯</span>
            <span class="emoji">ğŸ’¢</span>
            <span class="emoji">ğŸ’¥</span>
            <span class="emoji">ğŸ’¤</span>
            <span class="emoji">ğŸ’¨</span>
            <span class="emoji">ğŸŒˆ</span>
            <span class="emoji">â˜€ï¸</span>
            <span class="emoji">â›…</span>
            <span class="emoji">â›ˆï¸</span>
            <span class="emoji">ğŸŒ™</span>
            <span class="emoji">âš¡</span>
            <span class="emoji">â„ï¸</span>
            <span class="emoji">ğŸµ</span>
            <span class="emoji">ğŸ¶</span>
            <span class="emoji">ğŸ’°</span>
            <span class="emoji">ğŸ’</span>
        </div>
    </div>

</div>

<script>
    window.DIALOG_ID = {{ dialog.id }};
    window.CURRENT_USER_ID = "{{ request.user.username }}";
    window.CSRF_TOKEN = "{{ csrf_token }}";
</script>

{% load static %}
{% block scripts %}
    <script src="{% static 'js/chat_dialog.js' %}"></script>
{% endblock %}
{% endblock %}